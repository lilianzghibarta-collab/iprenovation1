<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Colour Renovation - Completed Projects</title>
    <style>
        /* ... toate stilurile anterioare ... */
        footer {
            width: 100%;
            background: rgba(34,34,34,0.98);
            color: #bbb;
            text-align: center;
            font-size: 1em;
            padding: 13px 0 10px 0;
            margin-top: 28px;
            letter-spacing: 1px;
        }
        footer a {
            color: #ffd700;
            text-decoration: underline;
        }
        @media (max-width:600px) {
            footer { font-size: 0.95em; padding: 10px 0 9px 0; }
        }
    </style>
</head>
<body>
    <div class="overlay"></div>
    <div class="navbar" id="navbar">
        <!-- ... restul navbar ... -->
    </div>
    <div class="container">
        <!-- ... restul conținutului proiecte ... -->
    </div>
    <!-- Modal pentru imagine mărită + arrows -->
    <div id="imgModal" class="modal">
        <span class="close-modal" id="closeModalBtn">&times;</span>
        <span class="modal-arrow left" id="modalArrowLeft">&#8592;</span>
        <img class="modal-content" id="modalImg" src="" alt="Enlarged project image">
        <span class="modal-arrow right" id="modalArrowRight">&#8594;</span>
    </div>
    <footer>
        © 2024 Lilian Zghibarta. All rights reserved.<br>
        Email: <a href="mailto:lilian.zghibarta@gmail.com">lilian.zghibarta@gmail.com</a>
    </footer>
    <script>
    // Smooth scroll for anchor links in navbar
    document.querySelectorAll('.nav-link').forEach(function(link) {
        if (link.getAttribute('href').startsWith('#')) {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                const targetId = link.getAttribute('href').replace('#', '');
                const target = document.getElementById(targetId);
                if (target) {
                    const navbar = document.getElementById('navbar');
                    let navHeight = navbar ? navbar.offsetHeight : 0;
                    const targetPosition = target.getBoundingClientRect().top + window.pageYOffset - navHeight;
                    window.scrollTo({
                        top: targetPosition,
                        behavior: 'smooth'
                    });
                }
            });
        }
    });

    // Hide/show navbar on scroll direction (up=show, down=hide) for all devices
    let lastScrollTop = window.pageYOffset || document.documentElement.scrollTop;
    const navbar = document.getElementById('navbar');
    window.addEventListener('scroll', function() {
        let st = window.pageYOffset || document.documentElement.scrollTop;
        if (st > lastScrollTop && st > 10) {
            navbar.style.transform = 'translateY(-100%)';
        } else {
            navbar.style.transform = 'translateY(0)';
        }
        lastScrollTop = st <= 0 ? 0 : st;
    });

    // MODAL logic pt. imagine mărită cu săgeți și swipe
    const modal = document.getElementById('imgModal');
    const modalImg = document.getElementById('modalImg');
    const closeModalBtn = document.getElementById('closeModalBtn');
    const modalArrowLeft = document.getElementById('modalArrowLeft');
    const modalArrowRight = document.getElementById('modalArrowRight');
    const galleryImgs = Array.from(document.querySelectorAll('.gallery-img'));
    let currentImgIndex = 0;

    function showModalWithImg(index) {
        if (index < 0) index = galleryImgs.length-1;
        if (index >= galleryImgs.length) index = 0;
        currentImgIndex = index;
        modal.classList.add('open');
        modalImg.src = galleryImgs[currentImgIndex].src;
        document.body.style.overflow = 'hidden';
    }

    galleryImgs.forEach(function(img, idx){
        img.addEventListener('click', function(){
            showModalWithImg(idx);
        });
    });
    closeModalBtn.onclick = function() {
        modal.classList.remove('open');
        modalImg.src = "";
        document.body.style.overflow = '';
    }
    modalArrowLeft.onclick = function(e) {
        e.stopPropagation();
        showModalWithImg(currentImgIndex - 1);
    }
    modalArrowRight.onclick = function(e) {
        e.stopPropagation();
        showModalWithImg(currentImgIndex + 1);
    }
    // Keyboard navigation
    window.addEventListener('keydown', function(e){
        if (!modal.classList.contains('open')) return;
        if(e.key === 'Escape'){
            modal.classList.remove('open');
            modalImg.src = "";
            document.body.style.overflow = '';
        }
        if(e.key === 'ArrowLeft'){
            showModalWithImg(currentImgIndex - 1);
        }
        if(e.key === 'ArrowRight'){
            showModalWithImg(currentImgIndex + 1);
        }
    });
    // Click pe fundalul modalului închide poza
    modal.onclick = function(e){
        if(e.target === modal){
            modal.classList.remove('open');
            modalImg.src = "";
            document.body.style.overflow = '';
        }
    }

    // TOUCH SWIPE for mobile (left/right image navigation)
    let touchStartX = null;
    modalImg.addEventListener('touchstart', function(e){
        if (e.touches.length === 1) {
            touchStartX = e.touches[0].clientX;
        }
    }, {passive:true});
    modalImg.addEventListener('touchend', function(e){
        if (touchStartX === null || e.changedTouches.length === 0) return;
        let touchEndX = e.changedTouches[0].clientX;
        let dx = touchEndX - touchStartX;
        if (Math.abs(dx) > 40) {
            if (dx < 0) {
                showModalWithImg(currentImgIndex + 1); // swipe left
            } else if (dx > 0) {
                showModalWithImg(currentImgIndex - 1); // swipe right
            }
        }
        touchStartX = null;
    }, {passive:true});
    </script>
</body>
</html>
